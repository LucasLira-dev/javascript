<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>mega desafio</title>
    <style>

        body {
            background-color: rgb(45, 45, 150);
        }

        h1 {
            color: white;
            text-align: center;
        }

        section {
            background-color: white;
            margin: auto;
            width: 80vw;
        }

        select {
            width: 200px;
        }
    </style>
</head>
<body>
    <h1>
        analisador de números
    </h1>

    <section>
        <p> Numero entre 1 e 100 
        <input type="number" name="inum" id="inum" minlength="1" maxlength="100">
            <input type="button" value="adicionar" onclick="adicionar()">
            <select name="res" id="res" size="10">
               
            </select>
        </p>

        <input type="button" value="Finalizar" onclick="finalizar()">

        <div id="resposta">

        </div>
    </section>

    <script>
        var inum = document.getElementById('inum')
        var resp = document.getElementById('res')
        var r = document.getElementById('resposta')
        var valores = []

        function isnumero(n) {
            if(Number(n) >= 1 && Number(n) <= 100) {
                return true
            } else {
                return false
            }
        }

        function inlista(n, l) {
            if(l.indexOf(Number(n)) != -1) {
                return true
            } else {
                return false
            }
        }
        
        function adicionar() {
            
            if(isnumero(inum.value) && !inlista(inum.value, valores)) {
                valores.push(Number(inum.value))
                let item = document.createElement('option')
                item.text = `valor ${inum.value} adicionado `
                resp.appendChild(item)
                r.innerHTML = ''
                
            } else {
                alert('valor ja encontrado ou inválido')
        
            }
            inum.value = ''
            inum.focus
            
        
        }

        function finalizar() {
            if(valores.length == 0) {
                alert('adicione valores antes de finalizar')
            } else {
                let tot = valores.length
                let maior = valores [0]
                let menor = valores [0]
                let soma = 0
                let media = 0
                for(let pos in valores) {
                    soma += valores [pos]
                    media += valores [pos] / valores.length
                    if(valores[pos] > maior) {
                        maior = valores[pos]
                    } if (valores[pos] < menor) {
                        menor = valores[pos]
                    }
                }
                r.innerHTML = ''
                r.innerHTML += `<p> ao todo temos ${tot} números cadastrados </p>`
                r.innerHTML += `<p> o maior valor encontrado foi ${maior} </p>`
                r.innerHTML += `<p> o menor valor encontrado foi ${menor} </p> `
                r.innerHTML += `<p> a soma dos numeros foi ${soma}</p>`
                r.innerHTML += `<p> a média entre od números foi ${media} </p>`

            }
        }
 
        
       

       
    </script>
    
</body>
</html>